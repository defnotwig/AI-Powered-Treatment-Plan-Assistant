{
	admin off
}

:80 {
	root * /usr/share/caddy
	encode gzip zstd

	# SPA fallback
	try_files {path} /index.html

	file_server

	# Security headers
	header {
		X-Content-Type-Options nosniff
		X-Frame-Options DENY
		Referrer-Policy strict-origin-when-cross-origin
		-Server
	}

	# Proxy API requests to backend
	handle /api/* {
		reverse_proxy backend:5000
	}
}
